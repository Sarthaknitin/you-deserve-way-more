<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Rishita ‚ù§Ô∏è</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>

body{
margin:0;
font-family:-apple-system,BlinkMacSystemFont,sans-serif;
background:black;
color:white;
overflow:hidden;
cursor:none;
}

.bg{
position:fixed;
width:110%;
height:110%;
top:-5%;
left:-5%;
background-size:cover;
background-position:center;
filter:blur(20px);
z-index:-1;
transition:1s ease;
}

.container{
position:absolute;
top:50%;
left:50%;
transform:translate(-50%,-50%);
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
width:90%;
max-width:420px;
max-height:90vh;
}


img{
width:100%;
max-height:45vh;
object-fit:cover;
border-radius:20px;
box-shadow:0 20px 40px rgba(0,0,0,0.4);
}


h2{
margin-top:15px;
min-height:70px;
}

button{
padding:10px 20px;
margin:8px;
border:none;
border-radius:12px;
font-size:16px;
cursor:pointer;
}


.yes{ background:#ff2d55; color:white;}
.no{ background:white; color:black;}

.hidden{display:none;}

.cursor{
position:fixed;
pointer-events:none;
z-index:999;
font-size:18px;
}

</style>
</head>

<body>

<div class="bg" id="bg"></div>

<audio id="music" loop>
<source src="music.mp3">
</audio>

<div class="container">

<img id="image" src="img1.jpg">

<h2 id="text"></h2>

<button id="nextBtn">Next ‚ù§Ô∏è</button>

<div id="finalButtons" class="hidden">
<button class="yes" onclick="yesClick()">Yes ‚ù§Ô∏è</button>
<button class="no" onclick="noClick()">No üò¢</button>
</div>

</div>

<script>

/* Cursor Hearts */

document.addEventListener("mousemove",(e)=>{
const heart=document.createElement("div");
heart.innerHTML="‚ù§Ô∏è";
heart.className="cursor";
heart.style.left=e.pageX+"px";
heart.style.top=e.pageY+"px";
document.body.appendChild(heart);
setTimeout(()=>heart.remove(),400);
});

/* Typing Effect */

function typeText(text){
let i=0;
const el=document.getElementById("text");
el.innerHTML="";

const interval=setInterval(()=>{
el.innerHTML += text.charAt(i);
i++;
if(i >= text.length) clearInterval(interval);
},35);
}

/* STORY SCRIPT */

const story = [

"Hi Betu‚Ä¶ ‚ù§Ô∏è",

"I know thoda late ho gaya hu but‚Ä¶ it was very difficult to express my love through words‚Ä¶",

"Mujhe kabhi kabhi lagta hai ki main aapko properly batata hi nahi hu‚Ä¶ ki aap mere liye kitne special ho‚Ä¶",

"Last ek saal me‚Ä¶ aap meri life ka sabse important part ban gaye ho‚Ä¶",

"Aap meri aadat ban gaye ho‚Ä¶ and honestly mujhe yeh aadat bohot pasand hai‚Ä¶",

"Mujhe aapki har choti cheez bohot cute lagti hai‚Ä¶",

"Jaise aapka daantna‚Ä¶",

"Jaise aapka meri care karna‚Ä¶",

"Jaise aapka mujhpe gussa hona‚Ä¶ aur phir khud hi normal ho jana‚Ä¶",

"Aur sabse cute‚Ä¶ aapka mujhpe haq jatana‚Ä¶",

"Mere liye aapke saath ke saare moments bohot special hai‚Ä¶",

"Random baate‚Ä¶ random hasi‚Ä¶ random planning jo kabhi complete nahi hoti üòÇ",

"I know mai express nahi karta‚Ä¶",

"Par iska matlab yeh nahi ki mai aapse pyaar nahi karta‚Ä¶",

"Sach bolu‚Ä¶ toh main aapko sab kuch maanta hu‚Ä¶",

"Aap mera safe place ho‚Ä¶",

"Mujhe aapke saath ladna bhi acha lagta hai‚Ä¶ kyunki end me hum phir saath hi rehte hai‚Ä¶",

"Aur honestly‚Ä¶ mujhe aapko har din thoda aur pasand karna bhi acha lagta hai‚Ä¶",

"Main perfect boyfriend nahi hu‚Ä¶",

"Par main genuinely koshish karta hu‚Ä¶ aur karta rahunga‚Ä¶",

"Because aap mere liye important ho‚Ä¶",

"Aur main aapko hamesha khush dekhna chahta hu‚Ä¶",

"Valentine week aa raha hai‚Ä¶",

"Aur mujhe laga‚Ä¶ poochna chahiye‚Ä¶"

];

const proposalText = "Betu‚Ä¶ will you be my Valentine‚Ä¶ again? ‚ù§Ô∏è‚ù§Ô∏è";

const yesFlow = [
"Arey ruko ruko‚Ä¶ No click karne ka plan to nahi tha?? üòëüòÇ",
"Pakka hai na? Baad me bolna mat 'pressure me ha bola' üò§",
"OMG THANK YOU BABY ‚ù§Ô∏è I love you sooo much!!!",
"East or west‚Ä¶ my baby is the best üòå‚ù§Ô∏è"
];

const noFlow = [
"Arey please Betu‚Ä¶",
"Itna bhi bura nahi hu main üò≠",
"Ek baar aur soch lo‚Ä¶",
"Last chance please ‚ù§Ô∏è"
];

/* Story Flow */

let step=0;

function updateScreen(){

const imageNumber = step + 1;

document.getElementById("image").src = `img${imageNumber}.jpg`;
document.getElementById("bg").style.backgroundImage = `url(img${imageNumber}.jpg)`;

typeText(story[step]);
}

updateScreen();

function next(){

document.getElementById("music").play();

step++;

if(step < story.length){
updateScreen();
}
else{
showFinal();
}

}

document.getElementById("nextBtn").onclick=next;

function showFinal(){

const proposalImage = story.length + 1;

typeText(proposalText);

document.getElementById("image").src = `img${proposalImage}.jpg`;
document.getElementById("bg").style.backgroundImage = `url(img${proposalImage}.jpg)`;

document.getElementById("nextBtn").classList.add("hidden");
document.getElementById("finalButtons").classList.remove("hidden");

}

/* YES FLOW */

let yesStep=0;

function yesClick(){

if(yesStep < yesFlow.length - 1){
typeText(yesFlow[yesStep]);
yesStep++;
return;
}

typeText(yesFlow[yesFlow.length - 1]);

const finalYesImage = story.length + 2;

document.getElementById("image").src = `img${finalYesImage}.jpg`;
document.getElementById("bg").style.backgroundImage = `url(img${finalYesImage}.jpg)`;

document.getElementById("finalButtons").classList.add("hidden");

confetti({
particleCount:180,
spread:100,
origin:{y:0.6}
});
}

/* NO FLOW */

let noIndex=0;

function noClick(){

const noBtn=document.querySelector(".no");
const yesBtn=document.querySelector(".yes");

noBtn.innerText=noFlow[noIndex];
noIndex=(noIndex+1)%noFlow.length;

let size=parseFloat(window.getComputedStyle(yesBtn).fontSize);
yesBtn.style.fontSize=(size*1.4)+"px";
}

</script>
</body>
</html>
