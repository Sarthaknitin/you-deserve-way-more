<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Rishita ‚ù§Ô∏è</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>

body{
margin:0;
font-family:-apple-system, BlinkMacSystemFont, sans-serif;
overflow:hidden;
color:white;
background:black;
cursor:none;
}

/* ---------- Background Parallax ---------- */

.bg{
position:fixed;
width:110%;
height:110%;
top:-5%;
left:-5%;
background-size:cover;
background-position:center;
filter:blur(20px);
z-index:-1;
transition:1s ease;
}

/* ---------- Container ---------- */

.container{
position:absolute;
top:50%;
left:50%;
transform:translate(-50%,-50%);
text-align:center;
width:90%;
max-width:420px;
}

/* ---------- Main Image ---------- */

img{
width:100%;
border-radius:20px;
box-shadow:0 20px 40px rgba(0,0,0,0.4);
transition:1s ease;
}

/* ---------- Text ---------- */

h2{
margin-top:25px;
min-height:80px;
}

/* ---------- Buttons ---------- */

button{
padding:12px 25px;
margin:12px;
border:none;
border-radius:12px;
font-size:18px;
cursor:pointer;
transition:0.3s;
}

.yes{ background:#ff2d55; color:white;}
.no{ background:white; color:black;}

.hidden{ display:none; }

/* ---------- Custom Cursor Hearts ---------- */

.cursor{
position:fixed;
font-size:18px;
pointer-events:none;
z-index:999;
}

</style>
</head>

<body>

<div class="bg" id="bg"></div>

<audio id="music" loop>
<source src="music.mp3">
</audio>

<div class="container">

<img id="image" src="img1.jpg">

<h2 id="text"></h2>

<button id="nextBtn">Tap ‚ù§Ô∏è</button>

<div id="finalButtons" class="hidden">
<button class="yes" onclick="yesClick()">Yes ‚ù§Ô∏è</button>
<button class="no" onclick="noClick()">No üò¢</button>
</div>

</div>

<script>

/* ---------- Cursor Hearts ---------- */

document.addEventListener("mousemove",(e)=>{
const heart=document.createElement("div");
heart.innerHTML="‚ù§Ô∏è";
heart.className="cursor";
heart.style.left=e.pageX+"px";
heart.style.top=e.pageY+"px";
document.body.appendChild(heart);
setTimeout(()=>heart.remove(),500);
});


/* ---------- Typing Effect ---------- */

function typeText(text){

let i=0;
const el=document.getElementById("text");
el.innerHTML="";

let interval=setInterval(()=>{
el.innerHTML += text[i];
i++;
if(i>=text.length) clearInterval(interval);
},40);

}


/* ---------- Story Content ---------- */

let step=0;

const story=[
"Hi Rishita‚Ä¶",
"I don‚Äôt know the perfect way to say this‚Ä¶",
"But life honestly became softer after you entered it‚Ä¶",
"You make my normal days feel special‚Ä¶",
"And since Valentine‚Äôs week is coming‚Ä¶"
];

const images=[
"img1.jpg","img2.jpg","img3.jpg","img4.jpg","img5.jpg"
];

function updateScreen(){

document.getElementById("image").src=images[step];
document.getElementById("bg").style.backgroundImage=`url(${images[step]})`;
typeText(story[step]);

}


/* ---------- Auto Slideshow ---------- */

let autoMode=false;

function next(){

document.getElementById("music").play();

step++;

if(step < story.length){
updateScreen();
}
else{
finalScreen();
}

if(autoMode){
setTimeout(next,4500);
}

}

document.getElementById("nextBtn").onclick=next;


/* ---------- Final Screen ---------- */

function finalScreen(){

typeText("Rishita‚Ä¶ Will you be my Valentine? ‚ù§Ô∏è");
document.getElementById("image").src="img6.jpg";
document.getElementById("bg").style.backgroundImage=`url(img6.jpg)`;

document.getElementById("nextBtn").classList.add("hidden");
document.getElementById("finalButtons").classList.remove("hidden");

}


/* ---------- NO FLOW ---------- */

let noMsgs=[
"Please don't do this ü•∫",
"I will be very sad üò≠",
"Think again‚Ä¶",
"Last chance madam ‚ù§Ô∏è"
];

let noIndex=0;

function noClick(){

const noBtn=document.querySelector(".no");
const yesBtn=document.querySelector(".yes");

noBtn.innerText=noMsgs[noIndex];
noIndex=(noIndex+1)%noMsgs.length;

let size=parseFloat(window.getComputedStyle(yesBtn).fontSize);
yesBtn.style.fontSize=(size*1.4)+"px";

}


/* ---------- YES FLOW ---------- */

let yesStep=0;

function yesClick(){

if(yesStep==0){
typeText("Hey why clicking No üòú Click Yes properly!");
yesStep++;
return;
}

if(yesStep==1){
typeText("Are you really sure? Think once again ‚ù§Ô∏è");
yesStep++;
return;
}

if(yesStep==2){

typeText("Thank you soooo much ‚ù§Ô∏è You made me happiest person!");

document.getElementById("image").src="img7.jpg";
document.getElementById("bg").style.backgroundImage=`url(img7.jpg)`;
document.getElementById("finalButtons").classList.add("hidden");

confetti({
particleCount:180,
spread:100,
origin:{y:0.6}
});

}

}


/* ---------- Hidden Easter Egg ---------- */

let secret=0;

document.body.addEventListener("dblclick",()=>{

secret++;

if(secret==3){
alert("You found secret message ‚ù§Ô∏è I really like you more than you think.");
}

});


/* ---------- Initial Load ---------- */

updateScreen();

</script>

</body>
</html>
