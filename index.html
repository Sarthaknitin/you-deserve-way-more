<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Rishita ‚ù§Ô∏è</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>

body{
margin:0;
font-family:-apple-system,BlinkMacSystemFont,sans-serif;
background:black;
color:white;
overflow:hidden;
cursor:none;
}

/* Floating Hearts Background */

.heart-bg{
position:fixed;
bottom:-20px;
font-size:18px;
animation:floatUp 6s linear infinite;
opacity:0.5;
z-index:0;
}

@keyframes floatUp{
0%{transform:translateY(0);}
100%{transform:translateY(-110vh);}
}

/* Background Blur */

.bg{
position:fixed;
width:110%;
height:110%;
top:-5%;
left:-5%;
background-size:cover;
background-position:center;
filter:blur(20px);
z-index:-1;
transition:1s ease;
}

/* Layout */

.container{
position:absolute;
top:50%;
left:50%;
transform:translate(-50%,-50%);
display:flex;
flex-direction:column;
align-items:center;
width:90%;
max-width:420px;
max-height:90vh;
}

/* Apple Zoom Animation */

img{
width:100%;
max-height:40vh;
object-fit:contain;
border-radius:20px;
box-shadow:0 20px 40px rgba(0,0,0,0.4);
background:black;

animation:zoomSlow 8s ease-in-out forwards;
transition:opacity 0.8s ease;
}

@keyframes zoomSlow{
from{transform:scale(1);}
to{transform:scale(1.08);}
}

.fadeOut{
opacity:0;
}

.fadeIn{
opacity:1;
}

h2{
margin-top:15px;
min-height:70px;
transition:opacity 0.6s ease;
}

button{
padding:10px 20px;
margin:8px;
border:none;
border-radius:12px;
font-size:16px;
cursor:pointer;
}

.yes{ background:#ff2d55; color:white;}
.no{ background:white; color:black;}

.hidden{display:none;}

/* Cursor Hearts */

.cursor{
position:fixed;
pointer-events:none;
z-index:999;
font-size:18px;
}

</style>
</head>

<body>

<div class="bg" id="bg"></div>

<audio id="music" loop>
<source src="music.mp3">
</audio>

<div class="container">

<img id="image" src="img1.jpg">

<h2 id="text"></h2>

<button id="nextBtn">Next ‚ù§Ô∏è</button>

<div id="finalButtons" class="hidden">
<button class="yes" onclick="yesClick()">Yes ‚ù§Ô∏è</button>
<button class="no" onclick="noClick()">No üò¢</button>
</div>

</div>

<script>


/* Floating Hearts Background */

setInterval(()=>{
const heart=document.createElement("div");
heart.innerHTML="‚ù§Ô∏è";
heart.className="heart-bg";
heart.style.left=Math.random()*100+"vw";
heart.style.fontSize=(15+Math.random()*25)+"px";
document.body.appendChild(heart);
setTimeout(()=>heart.remove(),6000);
},500);

/* Cursor Hearts */

document.addEventListener("mousemove",(e)=>{
const heart=document.createElement("div");
heart.innerHTML="‚ù§Ô∏è";
heart.className="cursor";
heart.style.left=e.pageX+"px";
heart.style.top=e.pageY+"px";
document.body.appendChild(heart);
setTimeout(()=>heart.remove(),400);
});

/* Typing System */

let typingInterval;

function typeText(text){

const el=document.getElementById("text");

if(typingInterval){
clearInterval(typingInterval);
}

let i=0;
el.innerHTML="";

typingInterval=setInterval(()=>{
el.innerHTML+=text.charAt(i);
i++;

if(i>=text.length){
clearInterval(typingInterval);
}

},35);
}

/* STORY SCRIPT */

const story=[

"Hi Betu‚Ä¶ ‚ù§Ô∏è",

"I know thoda late ho gaya hu but‚Ä¶ it was very difficult to express my love through words‚Ä¶",

"Mujhe kabhi kabhi lagta hai ki main aapko properly batata hi nahi hu‚Ä¶ ki aap mere liye kitne special ho‚Ä¶",

"Last ek saal me‚Ä¶ aap meri life ka sabse important part ban gaye ho‚Ä¶",

"Aap meri aadat meri jaan ban gaye ho‚Ä¶ and honestly mujhe yeh aadat bohot pasand hai‚Ä¶",

"Mujhe aapki har choti cheez bohot cute lagti hai‚Ä¶",

"Jaise aapka daantna‚Ä¶",

"Jaise aapka meri care karna‚Ä¶",

"Jaise aapka mujhpe gussa hona‚Ä¶ aur phir khud hi normal ho jana‚Ä¶",

"Aur sabse cute‚Ä¶ aapka mujhpe haq jatana‚Ä¶",

"Mere liye aapke saath ke saare moments bohot special hai‚Ä¶",

"Random baate‚Ä¶ random hasi‚Ä¶ random planning jo kabhi complete nahi hoti üòÇ",

"I know mai express nahi karta‚Ä¶",

"Par iska matlab yeh nahi ki mai aapse pyaar nahi karta‚Ä¶",

"Sach bolu‚Ä¶ toh main aapko sab kuch maanta hu‚Ä¶",

"Aap mera peace place ho‚Ä¶",

"Mujhe aapke saath ladna bhi acha lagta hai‚Ä¶ kyunki uske baad mujhe jada pyaar milta hai‚Ä¶",

"Aur honestly‚Ä¶ mera bhi pyaar roj roj aur badhte ja raha hai..",

"I know Main perfect boyfriend nahi hu‚Ä¶",

"Par main genuinely koshish karta hu‚Ä¶ aur karta rahunga‚Ä¶",

"Because I love you app mere liye most precious ho‚Ä¶",

"Aur main aapko hamesha khush dekhna chahta hu‚Ä¶",

"Valentine week aagaya hai‚Ä¶",

"Aur maine abhi tak aapko ask out nahi kara hai.. so !!‚Ä¶"

];

const proposalText="Betu‚Ä¶ will you be my Valentine‚Ä¶ again? ‚ù§Ô∏è‚ù§Ô∏è";

/* Story Flow */

let step=0;

function changeImage(imageNumber){

const img=document.getElementById("image");

img.classList.add("fadeOut");

setTimeout(()=>{
img.src=`img${imageNumber}.jpg`;
document.getElementById("bg").style.backgroundImage=`url(img${imageNumber}.jpg)`;

img.classList.remove("fadeOut");

},400);

}

function updateScreen(){
changeImage(step+1);
typeText(story[step]);
}

updateScreen();

/* NEXT BUTTON ONLY */

document.getElementById("nextBtn").onclick=nextSlide;

function nextSlide(){

document.getElementById("music").play();

step++;

if(step<story.length){
updateScreen();
}else{
showFinal();
}

}

function showFinal(){

typeText(proposalText);
changeImage(story.length+1);

document.getElementById("nextBtn").classList.add("hidden");
document.getElementById("finalButtons").classList.remove("hidden");

}

/* YES FLOW */

function yesClick(){

changeImage(story.length+2);

document.getElementById("finalButtons").classList.add("hidden");

confetti({
particleCount:200,
spread:110,
origin:{y:0.6}
});

}

/* NO FLOW */

let noIndex=0;

const noFlow=[
"Arey please Betu‚Ä¶",
"Itna bhi bura nahi hu main üò≠",
"Ek baar aur soch lo‚Ä¶",
"Last chance please ‚ù§Ô∏è"
];

function noClick(){

const noBtn=document.querySelector(".no");
const yesBtn=document.querySelector(".yes");

noBtn.innerText=noFlow[noIndex];
noIndex=(noIndex+1)%noFlow.length;

let size=parseFloat(window.getComputedStyle(yesBtn).fontSize);
yesBtn.style.fontSize=(size*1.4)+"px";

}


</script>
</body>
</html>
