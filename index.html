<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Rishita ‚ù§Ô∏è</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>

body{
margin:0;
font-family:-apple-system,BlinkMacSystemFont,sans-serif;
background:black;
color:white;
overflow:hidden;
cursor:none;
}

/* Background blur */

.bg{
position:fixed;
width:110%;
height:110%;
top:-5%;
left:-5%;
background-size:cover;
background-position:center;
filter:blur(20px);
z-index:-1;
transition:1s ease;
}

.container{
position:absolute;
top:50%;
left:50%;
transform:translate(-50%,-50%);
text-align:center;
width:90%;
max-width:420px;
}

img{
width:100%;
border-radius:20px;
box-shadow:0 20px 40px rgba(0,0,0,0.4);
transition:1s ease;
}

h2{
margin-top:25px;
min-height:90px;
}

button{
padding:12px 25px;
margin:12px;
border:none;
border-radius:12px;
font-size:18px;
cursor:pointer;
transition:0.3s;
}

.yes{ background:#ff2d55; color:white;}
.no{ background:white; color:black;}

.hidden{display:none;}

.cursor{
position:fixed;
pointer-events:none;
z-index:999;
font-size:18px;
}

</style>
</head>

<body>

<div class="bg" id="bg"></div>

<audio id="music" loop>
<source src="music.mp3">
</audio>

<div class="container">

<img id="image" src="img1.jpg">

<h2 id="text"></h2>

<button id="nextBtn">Next ‚ù§Ô∏è</button>

<div id="finalButtons" class="hidden">
<button class="yes" onclick="yesClick()">Yes ‚ù§Ô∏è</button>
<button class="no" onclick="noClick()">No üò¢</button>
</div>

</div>

<script>

/* ---------------- Cursor Hearts ---------------- */

document.addEventListener("mousemove",(e)=>{
const heart=document.createElement("div");
heart.innerHTML="‚ù§Ô∏è";
heart.className="cursor";
heart.style.left=e.pageX+"px";
heart.style.top=e.pageY+"px";
document.body.appendChild(heart);
setTimeout(()=>heart.remove(),500);
});

/* ---------------- Typing Effect ---------------- */

function typeText(text){
let i=0;
const el=document.getElementById("text");
el.innerHTML="";

let interval=setInterval(()=>{
el.innerHTML+=text[i];
i++;
if(i>=text.length) clearInterval(interval);
},35);
}

/* ---------------- STORY SCRIPT ---------------- */

const story = [

const story = [

"Hi Betu‚Ä¶ ‚ù§Ô∏è",

"I know thoda late ho gaya hu but, It was very difficult to express my love through words though i have tried to do so.",

"Mujhe kabhi kabhi lagta hai‚Ä¶ ki main aapko properly batata hi nahi hu‚Ä¶ ki aap mere liye kitne special ho and mai apke liye kitna crazy hu",

"Last ek saal me‚Ä¶ aap meri life me ka most important partban chuke ho, fit ho gaye ho‚Ä¶ ki ab aap bina life imagine karna bhi impossible hai",

"Aap meri aadat ban gaye ho‚Ä¶ and honestly mujhe yeh aadat bohot pasand hai‚Ä¶",

"Mujhe aapki har ek choti  cheez bohot cute lagti hai‚Ä¶",

"Jaise aapka daantna‚Ä¶",

"aapka meri itni jada care karna‚Ä¶",

"Jaise aapka mujhpe gussa hona‚Ä¶ aur phir khud hi normal ho jana‚Ä¶",

"Aur sabse cute‚Ä¶ aapka mujhpe haq jatana ‚Ä¶ even jab aap mujhse upset hote ho‚Ä¶",

"Mere liye aapke saath ke saare moments bohot jada special hai‚Ä¶",

"Random baate‚Ä¶ random hasi‚Ä¶ random planning jo kabhi complete nahi hoti üòÇ",

"I know mai express nahi karta aur mere bacchu ko pyaar nahi deta",

"Par iska matlab yeh nahi ki mai aapse pyaar nahi karta",

"Sach bolu‚Ä¶ toh main aapko sab kuch maanta hu and i am never able to find words to even justify you‚Ä¶",

"Aap mere peace place ho‚Ä¶",

"Mujhe aapke saath ladna bhi acha lagta hai‚Ä¶ kyunki end me hum phir saath hi rehte hai‚Ä¶",

"Aur honestly‚Ä¶ mujhe aapko har din thoda aur pasand karna bhi acha lagta hai‚Ä¶",

"Main perfect boyfriend nahi hu‚Ä¶ aur shayad kabhi nahi ban paunga‚Ä¶",

"Par main genuinely koshish karta hu‚Ä¶ aur karta rahunga‚Ä¶",

"Because aap mere liye important ho‚Ä¶",

"Aur main aapko hamesha khush dekhna chahta hu‚Ä¶",

"Valentine week aa raha hai‚Ä¶",

"Aur mujhe laga‚Ä¶ poochna chahiye‚Ä¶"

];


];

const proposalText = "Betu‚Ä¶ will you be my Valentine‚Ä¶ again? ‚ù§Ô∏è‚ù§Ô∏è";

const yesFlow = [
"Arey ruko ruko‚Ä¶ No click karne ka to nahi soch rahi thi ?? Sach bato üòëüòÇ",
"Pakka hai na? Baad me bolna mat 'maine pressure me ha bola' üò§",
"Accha‚Ä¶ sach me ha bol diya‚Ä¶ OMG OMG OMG OMG OMG Thank you Thank you Thank You Thank you so very much baby I love you so very much ‚ù§Ô∏è"
"East or west My baby is the best yeahhhhhhhhh!!!!!!!"
];

const noFlow = [
"Arey yaar please‚Ä¶",
"Itna bhi bura nahi hu main üò≠",
"Ek baar aur soch lo‚Ä¶",
"Last chance please"
];

const secretMessage =
"Secret bataun? I know you love me more than i ever could ‚ù§Ô∏è";

/* ---------------- Story Flow ---------------- */

let step=0;
let autoMode=false;

function updateScreen(){
document.getElementById("image").src=`img${step+1}.jpg`;
document.getElementById("bg").style.backgroundImage=`url(img${step+1}.jpg)`;
typeText(story[step]);
}

function next(){

document.getElementById("music").play();

step++;

if(step < story.length){
updateScreen();
}
else{
showFinal();
}

if(autoMode){
setTimeout(next,4500);
}

}

document.getElementById("nextBtn").onclick=next;

function showFinal(){
typeText(proposalText);
document.getElementById("image").src="img6.jpg";
document.getElementById("bg").style.backgroundImage=`url(img6.jpg)`;

document.getElementById("nextBtn").classList.add("hidden");
document.getElementById("finalButtons").classList.remove("hidden");
}

/* ---------------- YES FLOW ---------------- */

let yesStep=0;

function yesClick(){

if(yesStep<yesFlow.length-1){
typeText(yesFlow[yesStep]);
yesStep++;
return;
}

typeText(yesFlow[yesFlow.length-1]);
document.getElementById("image").src="img7.jpg";
document.getElementById("bg").style.backgroundImage=`url(img7.jpg)`;
document.getElementById("finalButtons").classList.add("hidden");

confetti({particleCount:180,spread:100,origin:{y:0.6}});
}

/* ---------------- NO FLOW ---------------- */

let noIndex=0;

function noClick(){
const noBtn=document.querySelector(".no");
const yesBtn=document.querySelector(".yes");

noBtn.innerText=noFlow[noIndex];
noIndex=(noIndex+1)%noFlow.length;

let size=parseFloat(window.getComputedStyle(yesBtn).fontSize);
yesBtn.style.fontSize=(size*1.4)+"px";
}

/* ---------------- Easter Egg ---------------- */

let secret=0;
document.body.addEventListener("dblclick",()=>{
secret++;
if(secret==3){
alert(secretMessage);
}
});

/* ---------------- Initial Load ---------------- */

updateScreen();

</script>

</body>
</html>
